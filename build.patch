From c8d0cf6bf6d622885e6f650cd569af5676f0772c Mon Sep 17 00:00:00 2001
From: William Douglas <william.douglas@intel.com>
Date: Mon, 10 Jul 2023 09:41:26 -0700
Subject: [PATCH] Build fixes

---
 c10/util/Registry.h                                    | 1 +
 third_party/fbgemm/include/fbgemm/UtilsAvx2.h          | 1 +
 third_party/gloo/gloo/transport/ibverbs/pair.h         | 1 +
 third_party/gloo/gloo/transport/tcp/device.h           | 1 +
 third_party/kineto/libkineto/src/SampleListener.h      | 1 +
 torch/csrc/jit/passes/quantization/quantization_type.h | 1 +
 torch/csrc/jit/runtime/logging.cpp                     | 1 +
 torch/csrc/lazy/core/multi_wait.cpp                    | 1 +
 8 files changed, 8 insertions(+)

diff --git a/c10/util/Registry.h b/c10/util/Registry.h
index d75e2b95..7a81b48f 100644
--- a/c10/util/Registry.h
+++ b/c10/util/Registry.h
@@ -15,6 +15,7 @@
 #include <functional>
 #include <memory>
 #include <mutex>
+#include <stdexcept>
 #include <string>
 #include <unordered_map>
 #include <vector>
diff --git a/third_party/fbgemm/include/fbgemm/UtilsAvx2.h b/third_party/fbgemm/include/fbgemm/UtilsAvx2.h
index a1af6078..4fb1220e 100644
--- a/third_party/fbgemm/include/fbgemm/UtilsAvx2.h
+++ b/third_party/fbgemm/include/fbgemm/UtilsAvx2.h
@@ -8,6 +8,7 @@
 // This file defines common utilities used in code compiled with avx2/avx512
 // flags.
 
+#include <cstdint>
 #include <string>
 
 namespace fbgemm {
diff --git a/third_party/gloo/gloo/transport/ibverbs/pair.h b/third_party/gloo/gloo/transport/ibverbs/pair.h
index 54dbc7e7..f974a904 100644
--- a/third_party/gloo/gloo/transport/ibverbs/pair.h
+++ b/third_party/gloo/gloo/transport/ibverbs/pair.h
@@ -18,6 +18,7 @@
 #include <mutex>
 #include <string>
 #include <vector>
+#include <array>
 
 #include "gloo/transport/ibverbs/address.h"
 #include "gloo/transport/ibverbs/device.h"
diff --git a/third_party/gloo/gloo/transport/tcp/device.h b/third_party/gloo/gloo/transport/tcp/device.h
index ef0ffcab..66b97010 100644
--- a/third_party/gloo/gloo/transport/tcp/device.h
+++ b/third_party/gloo/gloo/transport/tcp/device.h
@@ -14,6 +14,7 @@
 #include <memory>
 #include <mutex>
 #include <thread>
+#include <array>
 
 #include <gloo/transport/device.h>
 #include <gloo/transport/tcp/attr.h>
diff --git a/third_party/kineto/libkineto/src/SampleListener.h b/third_party/kineto/libkineto/src/SampleListener.h
index 9ac70a95..22f140d2 100644
--- a/third_party/kineto/libkineto/src/SampleListener.h
+++ b/third_party/kineto/libkineto/src/SampleListener.h
@@ -9,6 +9,7 @@
 #pragma once
 
 #include <assert.h>
+#include <cstdint>
 #include <cmath>
 #include <iostream>
 #include <string>
diff --git a/torch/csrc/jit/passes/quantization/quantization_type.h b/torch/csrc/jit/passes/quantization/quantization_type.h
index ea5ca10b..2f0f67d3 100644
--- a/torch/csrc/jit/passes/quantization/quantization_type.h
+++ b/torch/csrc/jit/passes/quantization/quantization_type.h
@@ -1,4 +1,5 @@
 #pragma once
+#include <cstdint>
 #include <ostream>
 
 namespace torch {
diff --git a/torch/csrc/jit/runtime/logging.cpp b/torch/csrc/jit/runtime/logging.cpp
index 66712990..b7daac5a 100644
--- a/torch/csrc/jit/runtime/logging.cpp
+++ b/torch/csrc/jit/runtime/logging.cpp
@@ -3,6 +3,7 @@
 #include <atomic>
 #include <mutex>
 #include <unordered_map>
+#include <stdexcept>
 
 namespace torch {
 namespace jit {
diff --git a/torch/csrc/lazy/core/multi_wait.cpp b/torch/csrc/lazy/core/multi_wait.cpp
index 6b993351..25244209 100644
--- a/torch/csrc/lazy/core/multi_wait.cpp
+++ b/torch/csrc/lazy/core/multi_wait.cpp
@@ -2,6 +2,7 @@
 
 #include <chrono>
 #include <exception>
+#include <stdexcept>
 
 namespace torch {
 namespace lazy {
-- 
2.41.0

